@import 'tailwindcss';

@custom-variant dark (&:where(.dark, .dark *));

/* shadcn/ui CSS variables */
:root {
  --background: 0 0% 100%;
  --foreground: 0 0% 13%;
  --card: 0 0% 100%;
  --card-foreground: 0 0% 13%;
  --popover: 0 0% 100%;
  --popover-foreground: 0 0% 13%;
  --primary: 0 0% 13%;
  --primary-foreground: 0 0% 100%;
  --secondary: 0 0% 96%;
  --secondary-foreground: 0 0% 13%;
  --muted: 0 0% 96%;
  --muted-foreground: 0 0% 45%;
  --accent: 0 0% 96%;
  --accent-foreground: 0 0% 13%;
  --destructive: 0 84% 60%;
  --destructive-foreground: 0 0% 100%;
  --border: 0 0% 90%;
  --input: 0 0% 90%;
  --ring: 200 80% 52%;
  --radius: 0.25rem;
}

.dark {
  --background: 0 0% 10%;
  --foreground: 0 0% 90%;
  --card: 0 0% 10%;
  --card-foreground: 0 0% 90%;
  --popover: 0 0% 13%;
  --popover-foreground: 0 0% 90%;
  --primary: 0 0% 90%;
  --primary-foreground: 0 0% 10%;
  --secondary: 0 0% 18%;
  --secondary-foreground: 0 0% 90%;
  --muted: 0 0% 18%;
  --muted-foreground: 0 0% 60%;
  --accent: 0 0% 18%;
  --accent-foreground: 0 0% 90%;
  --destructive: 0 62% 50%;
  --destructive-foreground: 0 0% 100%;
  --border: 0 0% 23%;
  --input: 0 0% 23%;
  --ring: 200 70% 55%;
}

@theme inline {
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));
  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));
  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));
  --color-primary-foreground: hsl(var(--primary-foreground));
  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));
  --color-muted-foreground: hsl(var(--muted-foreground));
  --color-accent-foreground: hsl(var(--accent-foreground));
  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));
  --radius-sm: calc(var(--radius) - 2px);
  --radius-md: var(--radius);
  --radius-lg: calc(var(--radius) + 2px);
  --radius-xl: calc(var(--radius) + 4px);
}

@theme {
  /* ===== SEMANTIC COLORS ===== */
  --color-primary: #37352f; /* Main text */
  --color-muted: #9b9a97; /* Secondary text, placeholders */
  --color-inverted: #ffffff; /* Text on accent backgrounds */

  --color-surface: #ffffff; /* Main background */
  --color-surface-alt: #fbfbfa; /* Sidebar background */
  --color-surface-raised: #f7f6f3; /* Code blocks, elevated surfaces */

  --color-border: #e0e0e0; /* Default borders */
  --color-accent: #2eaadc; /* Interactive accent (checkboxes, focus) */
  --color-calendar: #9775d4; /* External calendar events */
  --color-accent-subtle: oklch(0.65 0.15 230 / 0.14); /* Selection background */
  --color-accent-ring: oklch(0.65 0.15 230 / 0.5); /* Focus ring */

  --color-hover: oklch(0.23 0.02 70 / 0.08); /* Hover overlay */
  --color-focus-bg: oklch(0.23 0.02 70 / 0.03); /* Focus background */

  --color-overdue: oklch(0.96 0.04 70); /* Warm amber for past-due tasks */
  --color-today: oklch(0.95 0.04 230); /* Soft blue for today's tasks */

  /* ===== TYPOGRAPHY ===== */
  --font-sans:
    -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu,
    Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
  --font-mono:
    'SFMono-Regular', Menlo, Consolas, 'PT Mono', 'Liberation Mono', Courier,
    monospace;

  /* Type scale (based on 1rem = 16px) */
  --text-title: 2.25rem; /* 36px - task titles in notes view */
  --text-h1: 1.875rem; /* 30px */
  --text-h2: 1.5rem; /* 24px */
  --text-h3: 1.25rem; /* 20px */
  --text-body: 1rem; /* 16px */
  --text-small: 0.875rem; /* 14px */
  --text-xs: 0.75rem; /* 12px */

  /* Line heights */
  --leading-tight: 1.3;
  --leading-normal: 1.5;

  /* ===== SPACING ===== */
  /* 4px base rhythm */
  --spacing-px: 1px;
  --spacing-0: 0;
  --spacing-1: 0.25rem; /* 4px */
  --spacing-2: 0.5rem; /* 8px */
  --spacing-3: 0.75rem; /* 12px */
  --spacing-4: 1rem; /* 16px */
  --spacing-6: 1.5rem; /* 24px */
  --spacing-8: 2rem; /* 32px */
  --spacing-12: 3rem; /* 48px */
  --spacing-20: 5rem; /* 80px */
  --spacing-24: 6rem; /* 96px */

  /* Layout containers */
  --width-content: 900px;
  --width-content-wide: 1300px;
  --width-sidebar: 240px;

  /* ===== RADII ===== */
  --radius-sm: 3px;
  --radius-md: 4px;

  /* ===== TRANSITIONS ===== */
  --duration-fast: 100ms;
  --duration-normal: 150ms;
}

@layer base {
  * {
    @apply box-border m-0 p-0;
  }

  body {
    @apply font-sans bg-surface text-primary leading-normal;
  }

  :root.dark {
    --color-primary: #e6e6e6;
    --color-inverted: #191919;
    --color-surface: #191919;
    --color-surface-alt: #202020;
    --color-surface-raised: #2f2f2f;
    --color-border: #3a3a3a;
    --color-accent: #529cca;
    --color-calendar: #a688d9;
    --color-hover: oklch(0.9 0.02 70 / 0.08);
    --color-focus-bg: oklch(0.9 0.02 70 / 0.03);
    --color-overdue: oklch(0.25 0.04 70); /* Warm amber for past-due tasks */
    --color-today: oklch(0.25 0.04 230); /* Soft blue for today's tasks */
  }
}

@layer components {
  /* Placeholder pseudo-element (cannot be pure Tailwind) */
  .block-input:empty:focus::before {
    content: attr(data-placeholder);
    @apply text-muted pointer-events-none;
  }
}
